
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jQuery Spellchecker - Markitup demo</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Richard Willis">

    <link href="js/lib/markitup/skins/markitup/style.css" rel="stylesheet"></link>
    <link href="js/lib/markitup/sets/default/style.css" rel="stylesheet"></link>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/jquery.spellchecker.css" rel="stylesheet" />
    <link href="css/demos.css" rel="stylesheet" />
  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li><a href="/">Home</a></li>
              <li><a href="https://github.com/badsyntax/jquery-spellchecker/wiki">Documentation</a></li>
              <li><a href="https://github.com/badsyntax/jquery-spellchecker/downloads">Download</a></li>
              <li><a href="https://github.com/badsyntax/jquery-spellchecker/issues">Issues</a></li>
              <li><a href="https://github.com/badsyntax/jquery-spellchecker">Github</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container">

      <div class="hero-unit">
        <h1>jQuery Spellchecker</h1>
      </div>

      <div class="row-fluid">
          <ul id="myTab" class="nav nav-tabs">
            <li class="tabs-label">Demos:</li>
            <li><a href="html.html">HTML</a></li>
            <li><a href="textarea.html">Textarea</a></li>
            <li><a href="drivers.html">Drivers</a></li>
            <li><a href="languages.html">Languages</a></li>
            <li class="active"><a href="markitup.html">MarkitUp</a></li>
            <li><a href="jhtmlarea.html">jHtmlArea</a></li>
            <li><a href="bootstrap-wysihtml5.html">Bootstrap-wysihtml5</a></li>
          </ul>

          <h2>markItUp demo</h2>

          <textarea class="textarea" style="width:90%;height:100px;">Clikc on the spellchecker icn above to check the pselling of this text.</textarea>
          <div id="incorrect-word-list"></div>
          <hr />

          <h2>Overview</h2>

          <p>This page shows how the spellchecker can be integrated into markItUp editor.</p>
          <hr />
        <h2>Usage</h2>
        <pre class="prettyprint linenums">
(function() {

  var spellchecker;

  var settings = {  
    onShiftEnter:   {keepDefault:false, replaceWith:'&lt;br /&gt;\n'},
    onCtrlEnter:    {keepDefault:false, openWith:'\n&lt;p&gt;', closeWith:'&lt;/p&gt;'},
    onTab:        {keepDefault:false, replaceWith:'    '},
    markupSet:  [   
      {name:'Bold', key:'B', openWith:'(!(&lt;strong&gt;|!|&lt;b&gt;)!)', closeWith:'(!(&lt;/strong&gt;|!|&lt;/b&gt;)!)' },
      {name:'Italic', key:'I', openWith:'(!(&lt;em&gt;|!|&lt;i&gt;)!)', closeWith:'(!(&lt;/em&gt;|!|&lt;/i&gt;)!)'  },
      {name:'Stroke through', key:'S', openWith:'&lt;del&gt;', closeWith:'&lt;/del&gt;' },
      {separator:'---------------' },
      {name:'Picture', key:'P', replaceWith:'&lt;img src="[![Source:!:http://]!]" alt="[![Alternative text]!]" /&gt;' },
      {name:'Link', key:'L', openWith:'&lt;a href="[![Link:!:http://]!]"(!( title="[![Title]!]")!)&gt;', closeWith:'&lt;/a&gt;', placeHolder:'Your text to link...' },
      {separator:'---------------' },
      {name:'Clean', className:'clean', replaceWith:function(markitup) { return markitup.selection.replace(/&lt;(.*?)&gt;/g, "") } },   
      {name:'Preview', className:'preview',  call:'preview'},
      {name:'Spellcheck', className:'spellcheck', beforeInsert:function(markitup) { SpellChecker(markitup, "en"); } }
    ]
  };

  $('.textarea').markItUp(settings);

  function SpellChecker(markitup, lang){

    if (!spellchecker) {

      spellchecker = new $.SpellChecker(markitup.textarea, {
        lang: 'en',
        parser: 'text',
        engine: {
          path: '../php/spellchecker.php',
          driver: 'PSpell'
        },
        suggestBox: {
          position: 'above'
        },
        incorrectWords: {
          container: '#incorrect-word-list'
        }
      });
      // Bind spellchecker handler functions
      spellchecker.on('check.success', function() {
        alert('There are no incorrectly spelt words!');
      });
    }
     
    spellchecker.check();
  }
})();</pre>
      </div>

      <footer>
      </footer>

    </div> <!-- /container -->

    <script src="js/lib/jquery-1.8.2.min.js"></script>
    <script src="js/lib/bootstrap.min.js"></script>
    <script src="js/lib/prettyprint.js"></script>
    <script src="js/jquery.spellchecker.js"></script>
    <script src="js/lib/markitup/jquery.markitup.js"></script>
    <script src="js/lib/markitup/sets/default/set.js"></script>
    <script src="js/app.js"></script>

    <script>
    (function() {

      var spellchecker;

      var settings = {
         onShiftEnter: {
             keepDefault: false,
             replaceWith: '<br />\n'
         },
         onCtrlEnter: {
             keepDefault: false,
             openWith: '\n<p>',
             closeWith: '</p>'
         },
         onTab: {
             keepDefault: false,
             replaceWith: '    '
         },
         markupSet: [{
             name: 'Bold',
             key: 'B',
             openWith: '(!(<strong>|!|<b>)!)',
             closeWith: '(!(</strong>|!|</b>)!)'
         }, {
             name: 'Italic',
             key: 'I',
             openWith: '(!(<em>|!|<i>)!)',
             closeWith: '(!(</em>|!|</i>)!)'
         }, {
             name: 'Stroke through',
             key: 'S',
             openWith: '<del>',
             closeWith: '</del>'
         }, {
             separator: '---------------'
         }, {
             name: 'Picture',
             key: 'P',
             replaceWith: '<img src="[![Source:!:http://]!]" alt="[![Alternative text]!]" />'
         }, {
             name: 'Link',
             key: 'L',
             openWith: '<a href="[![Link:!:http://]!]"(!( title="[![Title]!]")!)>',
             closeWith: '</a>',
             placeHolder: 'Your text to link...'
         }, {
             separator: '---------------'
         }, {
             name: 'Clean',
             className: 'clean',
             replaceWith: function (markitup) {
                 return markitup.selection.replace(/<(.*?)>/g, "")
             }
         }, {
             name: 'Preview',
             className: 'preview',
             call: 'preview'
         }, {
             name: 'Spellcheck',
             className: 'spellcheck',
             beforeInsert: function (markitup) {
                 SpellChecker(markitup, "en");
             }
         }]
      };

      $('.textarea').markItUp(settings);

      function SpellChecker(markitup, lang){

        if (!spellchecker) {

          spellchecker = new $.SpellChecker(markitup.textarea, {
            lang: 'en',
            parser: 'text',
            engine: {
              path: '../php/spellchecker.php',
              driver: 'PSpell'
            },
            suggestBox: {
              position: 'above'
            },
            incorrectWords: {
              container: '#incorrect-word-list'
            }
          });
          // Bind spellchecker handler functions
          spellchecker.on('check.success', function() {
            alert('There are no incorrectly spelt words!');
          });
        }
         
        spellchecker.check();
      }
    })();
    </script>
  </body>
</html>
